\section{Libraries testing}
\subsection{config\textunderscore lib}
\subsubsection{Utilities}
\paragraph{LT-CON-010 -- Tilde expansion nominal}
The tilde expansion function shall perform the following application,
\lstinline{~/.config/timesheeting/timesheeting.toml}
$\rightarrow$ \lstinline{<home>/timesheeting/timesheeting.toml},
with \lstinline{<home>} the current \lstinline{$HOME}.

\textit{Tests: } LR-CON-010 -- Tilde expansion utility

\paragraph{LT-CON-020 -- Tilde expansion none}
The tilde expansion function shall return an identical filepath to the
input \lstinline{/etc/timesheeting/timesheeting.toml}.

\textit{Tests: } LR-CON-010 -- Tilde expansion utility

\paragraph{LT-CON-030 -- First existing file found}
Given a directory structure as follows,
\dirtree{%
  .1 ...
  .2 dir1.
  .3 subdir1.
  .2 dir2.
  .3 timesheeting.toml.
  .2 dir3.
}
the \emph{first existing file utility}, when provided with the list of folders
\lstinline{dir1/subdir1, dir2, dir3} and the suffix
\lstinline{timesheeting.toml}
must return the path \lstinline{dir2/timesheeting.toml}.

\textit{Tests: } LR-CON-020 -- First existing file

\paragraph{LT-CON-040 -- First existing file not found}
Given a directory structure as follows,
\dirtree{%
  .1 ...
  .2 dir1.
  .3 subdir1.
  .2 dir2.
  .3 timesheeting.toml.
  .2 dir3.
}
the \emph{first existing file utility}, when provided with the list of folders
\lstinline{dir1/subdir1, dir1, dir3} and the suffix
\lstinline{timesheeting.toml} must return a nullopt.

\textit{Tests: } LR-CON-020 -- First existing file

\subsubsection{Configuration loader}
\begin{minipage}{\linewidth}
  \begin{lstlisting}[caption={TOML test configuration file.},
                     label={lst:toml_file}]
[par1]
string_arg = "Hello there."
empty_string_arg = ""

[par2]
  [par2.sub1]
  filepath_arg = "~/"
  filepath_nonexistent_arg = "/dev/null/nonexistent/nonexistent"
  [par2.sub2]
  float_arg = 8.3
  [par2.sub3]
  vector_strings_arg = [ "hello", "there", "fox", "delta" ]
  vector_nonstrings_arg = [ 31, 1, 43 ]
\end{lstlisting} \end{minipage}

\begin{minipage}{\linewidth}
  \begin{lstlisting}[caption={TOML test configuration file.},
                     label={lst:toml_file_empty}]
[par1]
string_arg = "Hello there."
empty_arg = 
\end{lstlisting} \end{minipage}

\paragraph{LT-CON-050 -- Configuration file loading}
The configuration loader shall successfully initialize given the filepath
for \cref{lst:toml_file}.

\textit{Tests: } LR-CON-030 -- Configuration file format

\paragraph{LT-CON-060 -- Configuration file non-existent}
The configuration loader shall emit an exception when provided the
filepath \lstinline{/dev/null/nonexistent}.

\textit{Tests: } LR-CON-120 -- Configuration file nonexistent

\paragraph{LT-CON-070 -- String parameter reading}
Given \cref{lst:toml_file}, the configuration loader shall read the
\lstinline{par1.string_arg} node as a \emph{string} and return
\lstinline{"Hello there."}.

\textit{Tests: } LR-CON-040 -- String loading

\paragraph{LT-CON-080 -- String parameter empty}
Given \cref{lst:toml_file}, the configuration loader shall read the
\lstinline{par1.empty_string_arg} node as a \emph{string} and emit an exception.

\textit{Tests: } LR-CON-050 -- String empty case

\paragraph{LT-CON-090 -- Filepath reading}
Given \cref{lst:toml_file}, the configuration loader shall read the
\lstinline{par2.sub1.filepath_arg} node as a \emph{filepath}
and return \lstinline{$HOME}, set to the current \lstinline{HOME} environment
variable.

\textit{Tests: } LR-CON-060 -- Filepath loading

\paragraph{LT-CON-100 -- Filepath non-existent}
Given \cref{lst:toml_file}, the configuration loader shall read the
\lstinline{par2.sub1.filepath_nonexistent_arg} node as a \emph{filepath}
and emit an exception.

\textit{Tests: } LR-CON-070 -- Filepath parent non-existent

\paragraph{LT-CON-110 -- Float reading}
Given \cref{lst:toml_file}, the configuration loader shall read the
\lstinline{par2.sub2.float_arg} node as a \emph{float} and return
\lstinline{8.3}.

\textit{Tests: } LR-CON-080 -- Float loading

\paragraph{LT-CON-120 -- Empty parameter case}
Given \cref{lst:toml_file_empty}, the configuration loader shall emit an
exception upon loading the configuration file.

\textit{Tests: } LR-CON-090 -- Parameter empty case

\paragraph{LT-CON-130 -- Vector of strings reading}
Given \cref{lst:toml_file}, the configuration loader shall read the
\lstinline{par2.sub3.vector_strings_arg} node as a \emph{vector of strings}
and return the vector \lstinline{"hello", "there", "fox", "delta"} in order.

\textit{Tests: } LR-CON-100 -- Vector of strings loading

\paragraph{LT-CON-140 -- Vector of non-strings case}
Given \cref{lst:toml_file}, the configuration loader shall read the
\lstinline{par2.sub3.vector_nonstrings_arg} node as a \emph{vector of strings}
and emit an exception.

\textit{Tests: } LR-CON-110 -- Vector of non-strings case

\subsection{time\textunderscore lib}
\subsubsection{time\textunderscore zone}
\paragraph{LT-TMZ-010 -- Invalid time zone}
The time\textunderscore zone object initialization shall be called with
the identifier string \lstinline{GOOFY} and emit an exception.

\textit{Tests: } LR-TMZ-030 -- Invalid time zone

\paragraph{LT-TMZ-020 -- Time zone initialization}
The time\textunderscore zone object shall be initialized with the TZ
identifier string \lstinline{Europe/Paris} without error.

\textit{Tests: } LR-TMZ-010 -- Time zone initialization

\paragraph{LT-TMZ-030 -- Time zone name}
The time\textunderscore zone singleton initialized in LT-TMZ-020 shall
be retrieved, its name queried and equal to \lstinline{Europe/Paris}.

\textit{Tests: } LR-TMZ-020 -- Time zone singleton,
                 LR-TMZ-040 -- Time zone name

\paragraph{LT-TMZ-040 -- std time\textunderscore zone}
The time\textunderscore zone singleton initialized in LT-TMZ-020 shall
be retrieved, its \lstinline{std::chrono::time_zone} object retrieved
and compared with
\lstinline{std::chrono::get_tzdb().locate_zone("Europe/Paris")}.


\textit{Tests: } LR-TMZ-020 -- Time zone singleton,
                 LR-TMZ-050 -- std time\textunderscore zone

\subsubsection{Date}
The tests for Date reuse the TimeZone singleton initialized
in LT-TMZ-020.
                 
\paragraph{LT-DAT-010 -- std::time\textunderscore point initialization}
The Date shall be initialized without error using the time point
\lstinline{std::chrono::system_clock::now()}.

\textit{Tests: } LR-DAT-020 \lstinline{std::time_point} initialization

\paragraph{LT-DAT-020 -- Date std::time\textunderscore point access}
The Date initialized in LT-DAT-010 shall be accessed through its
internal \lstinline{std::chrono::time_point} representation.
The duration between the initialization time point and the retrieved
time point shall be at most 1 second.

\textit{Tests: } LR-DAT-075 Date std::time\textunderscore point access,
LR-DAT-130 Second resolution

\paragraph{LT-DAT-030 -- Current time initialization}
The Date shall be initialized at the current time without error
and the duration between the internal \lstinline{std::chrono::time_point}
and \lstinline{std::chrono::system_clock::now()} shall be at most 1 second.

\textit{Tests: } LR-DAT-010 Current time initialization

\paragraph{LT-DAT-040 -- UNIX timestamp initialization}
The Date shall be initialized with the UNIX timestamp in seconds
\lstinline{1737283885} without error.

\textit{Tests: } LR-DAT-040 UNIX timestamp initialization

\paragraph{LT-DAT-050 -- UNIX timestamp output}
The Date initialized in LT-DAT-040 shall be converted to a UNIX
timestamp in seconds. The timestamp shall be be equal to \lstinline{1737283885}.

\textit{Tests: } LR-DAT-110 Date output UNIX timestamp

\paragraph{LT-DAT-060 -- Date string initialization}
The Date shall be initialized with the date string
\lstinline{19Jan2025 11:51:25} without error, and a UNIX timestamp output
will be queried, which must be equal to \lstinline{1737283885}.
This assumes the TimeZone singleton is set to \lstinline{Europe/Paris}.

\textit{Tests: } LR-DAT-050 Date string initialization

\paragraph{LT-DAT-070 -- Date string shortcuts 1}
The Date shall be initialized with the date string
\lstinline{19Jan2025 11:51} without error.
A UNIX timestamp output will be queried, which must be equal to
\lstinline{1737283860}.

\textit{Tests: } LR-DAT-060 Date string shortcuts

\paragraph{LT-DAT-080 -- Date string shortcuts 2}
The Date shall be initialized with the date string
\lstinline{19Jan2025 11} without error.
A UNIX timestamp output will be queried, which must be equal to
\lstinline{1737280800}.

\textit{Tests: } LR-DAT-060 Date string shortcuts

\paragraph{LT-DAT-090 -- Date string shortcuts 3}
The Date shall be initialized with the date string
\lstinline{19Jan2025} without error.
A UNIX timestamp output will be queried, which must be equal to
\lstinline{1737241200}.

\textit{Tests: } LR-DAT-060 Date string shortcuts

\paragraph{LT-DAT-100 -- Date string invalid}
The Date initialization shall emit an exception when provided
with the string \lstinline{GOOFY}.

\textit{Tests: } LR-DAT-070 Date string shortcuts

\paragraph{LT-DAT-110 -- Date output string}
The Date shall be initialized with a UNIX timestamp in seconds
\lstinline{1737283885}, the output string shall be queried and
must be equal to \lstinline{19Jan2025 11:51:25}.

\textit{Tests: } LR-DAT-080 Date output string

\paragraph{LT-DAT-120 -- Date output hours/minutes}
The Date shall be initialized with a UNIX timestamp in seconds
\lstinline{1737283885}, the output hours/minutes shall be queried
and must be equal to \lstinline{11:51}.

\textit{Tests: } LR-DAT-090 Date output hours/minutes

\paragraph{LT-DAT-130 -- Date output unambiguous string}
The Date shall be initialized with a UNIX timestamp in seconds
\lstinline{1737283885}, the output unambiguous string shall
be queried and must be equal to \lstinline{19Jan2025 11:51:25 +0100}.

\textit{Tests: } LR-DAT-100 Date output unambiguous string

\paragraph{LT-DAT-140 -- Date output day/month/year}
The Date shall be initialized with a UNIX timestamp in seconds
\lstinline{1737283885}, the output day/month/year string shall
be queried and must be equal to \lstinline{19Jan2025}.

\textit{Tests: } LR-DAT-120 Date output day/month/year

\paragraph{LT-DAT-150 -- Beginning of year}
The Date shall be initialized using the DatePoint YearBegin without error.
The day/month/year string is then queried, it must be equal to
\lstinline{01JanYYYY} with \lstinline{YYYY} whatever the current year
currently is in the time zone currently set in TimeZone.

\textit{Tests: } LR-DAT-030 Beginning of year

\paragraph{LT-DAT-160 -- Date comparison}
Two Date instances shall be initialized, the first with
UNIX timestamp in seconds \lstinline{1737283885}, the second with
\lstinline{1737283886}.
The comparison must show that,
\begin{itemize}
\item the first Date is \emph{lesser than} the second Date,
\item the second Date is \emph{greater than} the first Date.
\end{itemize}

\textit{Tests: } LR-DAT-140 Date comparison

\subsubsection{DateRange}
\paragraph{LT-DTR-010 -- DateRange initialization}
Given a start Date initialized to UNIX timestamp \lstinline{1737283885},
and a stop Date initialized to UNIX timestamp \lstinline{1737283886},
a DateRange shall be initialized without error.

\textit{Tests: } LR-DTR-010 DateRange initialization

\paragraph{LT-DTR-020 -- DateRange ordering}
Given the start and stop Dates of LT-DTR-020 in reverse order,
the DateRange initialization shall emit an exception.

\textit{Tests: } LR-DTR-020 DateRange ordering

\paragraph{LT-DTR-030 -- Dates read access}
Given the DateRange initialized in LT-DTR-010, the start and stop
Dates shall be queried and their UNIX timestamp obtained.
The timestamps shall evaluate to the ones defined in LT-DTR-010.

\textit{Tests: } LR-DTR-030 Dates read access

\paragraph{LT-DTR-040 -- DateRange to strings}
Given the DateRange initialized in LT-DTR-010, the vector of
strings from the DateRange shall be queried. Each shall evaluate
to the same string given by the corresponding method for the start and stop
Dates (as specified in LR-DAT-080).

\textit{Tests: } LR-DTR-040 DateRange to strings

\paragraph{LT-DTR-050 -- DateRange to day strings}
Given the DateRange initialized in LT-DTR-010, the vector of
strings from the DateRange shall be queried. Each shall evaluate
to the same string given by the corresponding method for the start and stop
Dates (as specified in LR-DAT-120).

\textit{Tests: } LR-DTR-050 DateRange to day strings

\subsubsection{Day}
\paragraph{LT-DAY-010 -- Day ymd initialization}
A Day shall be initialized using a \lstinline{std::chrono::year_month_day}
object set to \lstinline{21Jan2025} without error.

\textit{Tests: } LR-DAY-020 year/month/day initialization

\paragraph{LT-DAY-020 -- DateRange representation}
Given a Day initialized to \lstinline{21Jan2025}, a valid DateRange
will be returned without error.

\textit{Tests: } LR-DAY-030 DateRange representation

\paragraph{LT-DAY-030 -- DateRange start and stop Date}
The DateRange returned by a Day initialized to \lstinline{21Jan2025}
shall have both:
\begin{itemize}
\item a start Date which returns a string equal to
  \lstinline{21Jan2025 00:00:00},
\item a stop Date which returns a string equal to
  \lstinline{22Jan2025 00:00:00}.
\end{itemize}

\textit{Tests: } LR-DAY-040 DateRange start and stop Date

\paragraph{LT-DAY-040 -- String representation}
A Day initialized to \lstinline{21Jan2025} shall return a string
representation equal to \lstinline{21Jan2025 Tue}.

\textit{Tests: } LR-DAY-050 String representation

\paragraph{LT-DAY-050 -- Now initialization}
A Day will be initialized to now without error. The DateRange will be queried
from this Day.
A Date is initialized to now, and its string day/month/year representation
is stored.
We check that the day/month/year string appended with \lstinline{" 00:00:00"} is
equal to the string representation of the DateRange start Date.

\textit{Tests: } LR-DAY-010 Now initialization

\paragraph{LT-DAY-060 -- Next}
Given a Day initialized to \lstinline{21Jan2025}, the \emph{next} method
shall be called without error and the string representation for the Day
shall be equal to \lstinline{22Jan2025 Wed}.

\textit{Tests: } LR-DAY-060 Next and previous

\paragraph{LT-DAY-070 -- Previous}
Given a Day initialized to \lstinline{21Jan2025}, the \emph{previous} method
shall be called without error and the string representation for the Day
shall be equal to \lstinline{20Jan2025 Mon}.

\textit{Tests: } LR-DAY-060 Next and previous

\subsubsection{Week}
\paragraph{LT-WEK-010 -- Date initialization}
Given a Date initialized to \lstinline{24Jan2025 18:09:30}, the Week
shall be initialized without error.

\textit{Tests: } LR-WEK-020 Date initialization

\paragraph{LT-WEK-020 -- DateRange conversion}
A Week initialized using the Date \lstinline{24Jan2025 18:09:30} shall
return a DateRange without error with start and stop Dates the string
representation of which are:
\begin{itemize}
\item start: \lstinline{20Jan2025 00:00:00}
\item stop: \lstinline{27Jan2025 00:00:00}
\end{itemize}

\textit{Tests: } LR-WEK-020 Date initialization, LR-WEK-030 DateRange conversion

\paragraph{LT-WEK-030 -- Now initialization}
The Week shall be initialized to the current calendar week without error.

\textit{Tests: } LR-WEK-010 Now initialization

\paragraph{LT-WEK-040 -- String representation}
A Week initialized using the Date \lstinline{24Jan2025 18:09:30} shall
return a string representation equal to \lstinline{"20Jan2025 W04"}.

\textit{Tests: } LR-WEK-040 String representation

\paragraph{LT-WEK-050 -- Array of days}
A week initialized using the Date \lstinline{24Jan2025 18:09:30} shall
return an array of Days, the string representations of which are,
in order,
\begin{enumerate}
\item \lstinline{"20Jan2025 Mon"}
\item \lstinline{"21Jan2025 Tue"}
\item \lstinline{"22Jan2025 Wed"}
\item \lstinline{"23Jan2025 Thu"}
\item \lstinline{"24Jan2025 Fri"}
\item \lstinline{"25Jan2025 Sat"}
\item \lstinline{"26Jan2025 Sun"}
\end{enumerate}

\textit{Tests: } LR-WEK-050 Array of days

\paragraph{LT-WEK-060 -- Next}
Given a Week initialized using the Date \lstinline{24Jan2025 18:09:30},
the method \emph{next} shall be called without error, and
the string representation of the Week obtained.
This string representation must be equal to \lstinline{"27Jan2025 W05"}.

\textit{Tests: } LR-WEK-060 Next and previous

\paragraph{LT-WEK-070 -- Previous}
Given a Week initialized using the Date \lstinline{24Jan2025 18:09:30},
the method \emph{previous} shall be called without error, and
the string representation of the Week obtained.
This string representation must be equal to \lstinline{"13Jan2025 W03"}.

\textit{Tests: } LR-WEK-060 Next and previous

\subsubsection{Duration}
\paragraph{LT-DUR-010 -- Zero initialization pass}
A Duration shall be default initialized without error.

\textit{Tests: } LR-DUR-010 Zero initialization

\paragraph{LT-DUR-020 -- Zero initialization seconds string}
A Duration default initialized shall return a seconds string
equal to \lstinline{"0 seconds"}.

\textit{Tests: } LR-DUR-010 Zero initialization, LR-DUR-040 Seconds string

\paragraph{LT-DUR-030 -- Seconds initialization pass}
A Duration shall be initialized from the seconds count \lstinline{104592}
without error.

\textit{Tests: } LR-DUR-020 Seconds initialization

\paragraph{LT-DUR-040 -- Seconds initialization value}
A Duration initialized from the seconds count \lstinline{104592}
shall return a seconds string equal to \lstinline{"104592 seconds"}.

\textit{Tests: } LR-DUR-020 Seconds initialization, LR-DUR-040 Seconds string

\paragraph{LT-DUR-050 -- Duration resolution}
Two Durations initialized respectively to \lstinline{104592} and
\lstinline{104593} shall return seconds strings equal to
\lstinline{"104592 seconds"} and \lstinline{"104593 seconds"}.

\textit{Tests: } LR-DUR-030 Duration resolution

\paragraph{LT-DUR-060 -- Hours string}
A Duration initialized from the seconds count \lstinline{104592}
shall return a hours string equal to \lstinline{"29.053 hours"}.

\textit{Tests: } LR-DUR-050 Hours string

\paragraph{LT-DUR-070 -- Days string}
A Duration initialized from the seconds count \lstinline{104592}
shall return a days string equal to \lstinline{"3.773 days"},
when provided with the number of hours in a day \lstinline{7.7}.

\textit{Tests: } LR-DUR-060 Days string

\paragraph{LT-DUR-080 -- Seconds short string}
A Duration initialized from the seconds count \lstinline{104592}
shall return a seconds short string equal to \lstinline{"104592"}.

\textit{Tests: } LR-DUR-070 Seconds short string

\paragraph{LT-DUR-090 -- Hours short string}
A Duration initialized from the seconds count \lstinline{104592}
shall return a hours short string equal to \lstinline{"29.053"}.

\textit{Tests: } LR-DUR-080 Hours short string

\paragraph{LT-DUR-100 -- Days short string}
A Duration initialized from the seconds count \lstinline{104592}
shall return a days short string equal to \lstinline{"3.773"},
when provided with the number of hours in a day \lstinline{7.7}.

\textit{Tests: } LR-DUR-090 Days short string

\paragraph{LT-DUR-110 -- Zero second short string}
A Duration default initialized to zero shall return a second short
string equal to \lstinline{" "} (a single whitespace character).

\textit{Tests: } LR-DUR-100 Zero second short string

\paragraph{LT-DUR-120 -- Zero hour short string}
A Duration default initialized to zero shall return a hour short
string equal to \lstinline{" "} (a single whitespace character).

\textit{Tests: } LR-DUR-110 Zero hour short string

\paragraph{LT-DUR-130 -- Zero day short string}
A Duration default initialized to zero shall return a day short
string equal to \lstinline{" "} (a single whitespace character),
when provided with the number of hours in a day \lstinline{7.7}.

\textit{Tests: } LR-DUR-120 Zero day short string

\paragraph{LT-DUR-140 -- Day string invalid hours}
A Duration initialized from the seconds count \lstinline{104592}
shall emit an exception when a day string is queried with a
number of hours in a day equal to \lstinline{-3}.

\textit{Tests: } LR-DUR-130 Day string invalid hours

\paragraph{LT-DUR-150 -- Day short string invalid hours}
A Duration initialized from the seconds count \lstinline{104592}
shall emit an exception when a day short string is queried with a
number of hours in a day equal to \lstinline{-3}.

\textit{Tests: } LR-DUR-140 Day short string invalid hours
